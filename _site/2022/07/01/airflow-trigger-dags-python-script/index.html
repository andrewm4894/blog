<p>You have some dag that runs multiple times a day but you need to do a manual backfill of last 30 days.</p>

<p>It’s 2022 and this is still surprisingly painful with Airflow. The “new” <a href="https://airflow.apache.org/docs/apache-airflow/stable/stable-rest-api-ref.html">REST API</a> helps and mean’s all the building blocks are there but, as I found out today, there can often still be some faffing about left for you to do.</p>

<p>So here is a little Python script to just loop over a range of days and kick of a dag run for each day.</p>

<p>You would run it like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python airflow_trigger_dags.py <span class="nt">--dag</span> <span class="s1">'my_beautiful_dag'</span> <span class="nt">--start</span> <span class="s1">'2022-06-01 00:00:01'</span> <span class="nt">--end</span> <span class="s1">'2022-07-31 00:00:01'</span>
</code></pre></div></div>

<p>For the <code class="language-plaintext highlighter-rouge">dag</code> you pass, it will loop over each day and kick off a dag run for the same timestamp you define. So you can just increment the <code class="language-plaintext highlighter-rouge">00:00:01</code> part to <code class="language-plaintext highlighter-rouge">00:00:02</code> if you need to rerun the same backfill again for some reason (like you messed up your “fix” the first time around :) ). This assumes your dags are just using typical params like “<code class="language-plaintext highlighter-rouge">ds</code>” etc and so only need the <code class="language-plaintext highlighter-rouge">execution_date</code> to run properly. If your dag is more complex and depends of specific start and end times then this approach might not work or may need to be extended a little.</p>

<p>https://gist.github.com/andrewm4894/d83fe3a9aa194ae40a7c4acb6ee5eb02</p>
