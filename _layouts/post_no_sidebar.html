<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Sans+Pro:ital,wght@0,400;0,600;1,400;1,600&family=JetBrains+Mono:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">

    <title>{{ page.title }} | {{ site.title }}</title>
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css?v={{ site.time | date: '%Y%m%d%H%M%S' }}">
    
    <!-- PostHog Analytics -->
    <script>
        !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Re Cs Fs Pe Rs Ms capture Ve calculateEventProperties Ds register register_once register_for_session unregister unregister_for_session zs getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty js As createPersonProfile Ns Is Us opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing Os debug I Ls getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
        posthog.init('zR4pStMtxgP3wJ27vIjQJvZNXwMWqZlzP0x4dKbHOHg', {
            api_host: 'https://us.i.posthog.com',
            defaults: '2025-05-24',
            person_profiles: 'identified_only', // or 'always' to create profiles for anonymous users as well
        })
    </script>
    
  </head>
  <body>
    <div class="wrapper" style="display: flex; max-width: 1200px; margin: 0 auto; padding: 0 20px;">
      <!-- Main content -->
      <section style="flex: 1; max-width: 800px; margin-right: 40px;">
        <div style="margin-bottom: 2em;">
          <a href="{{ site.baseurl }}/" style="display: inline-block; padding: 0.5em 1em; background: #f5f5f5; border-radius: 4px; text-decoration: none; color: #333;">
            ← Back to Home
          </a>
        </div>

        {% if page.coverImage %}
        <div class="cover-image">
          <img src="{{ site.baseurl }}/assets/images/{{ page.path | remove: '_posts/' | remove: '.md' }}/{{ page.coverImage | remove: '"' }}" alt="{{ page.title }} cover image">
        </div>
        {% endif %}

        <h1>{{ page.title }}</h1>

        <p class="post-meta">
          <time datetime="{{ page.date | date_to_xmlschema }}">
            {%- assign date_format = "%b %-d, %Y" -%}
            {{ page.date | date: date_format }}
          </time>
          {%- if page.categories.size > 0 -%}
          <span class="categories">
            • Categories: 
            {% for category in page.categories %}
            <span class="category">{{ category }}</span>
            {% unless forloop.last %}, {% endunless %}
            {% endfor %}
          </span>
          {%- endif -%}
        </p>

        {{ content }}

        <!-- Comments section -->
        <div id="comments" style="margin-top: 3em; margin-bottom: 2em;">
          <script src="https://giscus.app/client.js"
                  data-repo="andrewm4894/blog"
                  data-repo-id=""
                  data-category="General"
                  data-category-id=""
                  data-mapping="pathname"
                  data-strict="0"
                  data-reactions-enabled="1"
                  data-emit-metadata="0"
                  data-input-position="bottom"
                  data-theme="preferred_color_scheme"
                  data-lang="en"
                  crossorigin="anonymous"
                  async>
          </script>
        </div>

        <div style="margin-top: 2em; text-align: center;">
          <a href="{{ site.baseurl }}/" style="display: inline-block; margin: 1em;">← Back to Home</a>
        </div>
      </section>

      <!-- Right sidebar -->
      <aside style="width: 300px; margin-top: 6em;">
        <div style="position: sticky; top: 20px;">
          <h3 style="margin-top: 0;">Recent Posts</h3>
          <div class="posts-list">
            {% for post in site.posts limit:50 %}
              <article style="margin-bottom: 1.5em;">
                <h4 style="margin: 0;">
                  <a href="{{ post.url | relative_url }}" {% if post.url == page.url %}class="current-post"{% endif %}>
                    {{ post.title }}
                  </a>
                </h4>
                <time style="font-size: 0.9em; color: #666;">
                  {{ post.date | date: "%B %d, %Y" }}
                </time>
              </article>
            {% endfor %}
            {% if site.posts.size > 50 %}
              <p style="margin-top: 1em;">
                <a href="{{ site.baseurl }}/" style="color: #666;">View all posts →</a>
              </p>
            {% endif %}
          </div>
        </div>
      </aside>

      <style>
        /* Typography */
        body {
          font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
          font-size: 16px;
          line-height: 1.6;
          color: #333;
        }
        
        h1, h2, h3, h4, h5, h6 {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
          font-weight: 600;
          color: #1a1a1a;
          line-height: 1.3;
          margin-top: 2rem;
          margin-bottom: 1rem;
        }
        
        h1 { 
          font-size: 2.5rem; 
          font-weight: 700; 
          margin-top: 0; 
          margin-bottom: 1.5rem;
        }
        h2 { font-size: 2rem; }
        h3 { font-size: 1.5rem; }
        h4 { font-size: 1.25rem; }
        h5 { font-size: 1.125rem; }
        h6 { font-size: 1rem; }
        
        p {
          margin-bottom: 1.5rem;
          line-height: 1.7;
        }
        
        code, pre {
          font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
        }
        
        code {
          font-size: 0.9em;
          font-weight: 500;
        }
        
        pre {
          font-size: 0.85em;
          line-height: 1.5;
          overflow-x: auto;
          padding: 1rem;
          border-radius: 6px;
          background-color: #f8f9fa !important;
        }

        .cover-image {
          margin-bottom: 2em;
          max-width: 100%;
          overflow: hidden;
        }

        .cover-image img {
          width: 100%;
          height: auto;
          display: block;
        }

        .post-meta {
          color: #666;
          margin-bottom: 2em;
          font-size: 0.95rem;
        }

        .category {
          font-style: italic;
          font-weight: 500;
        }

        figure {
          margin: 1.5em 0;
          text-align: center;
        }

        figure img {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 0 auto;
        }

        figcaption {
          color: #666;
          font-style: italic;
          margin-top: 0.5em;
          font-size: 0.9rem;
        }

        img {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 1em auto;
        }

        code {
          padding: 0.2em 0.4em;
          background-color: #f6f8fa;
          border-radius: 3px;
          font-size: 85%;
        }

        pre code {
          padding: 0;
          background-color: transparent;
        }

        .language-plaintext {
          color: #24292e;
        }

        .language-python {
          color: #24292e;
        }

        .posts-list h4 a {
          color: #333;
          text-decoration: none;
          font-weight: 500;
        }

        .posts-list h4 a:hover {
          color: #267CB9;
        }

        .posts-list .current-post {
          color: #267CB9;
          font-weight: 600;
        }
        
        /* Improve link styling */
        a {
          color: #267CB9;
          text-decoration: none;
          transition: color 0.2s ease;
        }
        
        a:hover {
          color: #1e5a8a;
          text-decoration: underline;
        }

        @media screen and (max-width: 1000px) {
          .wrapper {
            flex-direction: column;
          }
          
          section {
            margin-right: 0;
          }

          aside {
            width: 100%;
            margin-top: 3em;
          }
          
          h1 { font-size: 2rem; }
          h2 { font-size: 1.75rem; }
          h3 { font-size: 1.5rem; }
        }
      </style>
    </div>
  </body>
</html> 